<!--
  ~ Copyright (c) Akveo 2019. All Rights Reserved.
  ~ Licensed under the Single Application / Multi Application License.
  ~ See LICENSE_SINGLE_APP / LICENSE_MULTI_APP in the 'docs' folder for license information on type of purchased license.
  -->


<!--  <section id="top-right" class="another-action  " aria-label="Register">
     <a  routerLink="../register">Don't have an account?</a>
  </section>-->

<img *ngIf="theme == 'default'" id="top-left" src="../../../../assets/images/Logo-admin.svg">
<img *ngIf="theme == 'dark'" id="top-left_white" src="../../../../assets/images/Logo-admin-white.svg">

<h1 id="title" class="title" >Login</h1>

  <nb-alert *ngIf="showMessages.error && errors?.length && !submitted" outline="danger" role="alert">
    <p class="alert-title"><b>Oh snap!</b></p>
    <ul class="alert-message-list">
      <li *ngFor="let error of errors" class="alert-message">{{ error }}</li>
    </ul>
  </nb-alert>

  <nb-alert *ngIf="showMessages.success && messages?.length && !submitted" outline="success" role="alert">
    <p class="alert-title"><b>Hello!</b></p>
    <ul class="alert-message-list">
      <li *ngFor="let message of messages" class="alert-message">{{ message }}</li>
    </ul>
  </nb-alert>

  <div [formGroup]="loginForm" aria-labelledby="title">
    <div class="form-control-group">
      <label for="input-email">Email address:</label>
      <input  nbInput
              fullWidth
              id="input-email"
              formControlName="email"
              [status]="email.dirty ? (email.invalid  ? 'danger' : 'primary') : ''"
              [attr.aria-invalid]="email.invalid && email.touched ? true : null"
              placeholder="Email address">
      <ngx-validation-message label="Email address" [showPattern]="email?.hasError('pattern') && email.touched"
                              [showRequired]="email?.errors?.required && email.touched"></ngx-validation-message>
    </div>

    <div class="form-control-group">
    <span class="label-with-link">
      <label  for="input-password">Password:</label>

    </span>
      <input  nbInput
              fullWidth
              id="input-password"
              formControlName="password"
              type="password"
              [status]="password.dirty ? (password.invalid  ? 'danger' : 'primary') : ''"
              placeholder="Password">
      <nb-icon class="float-right mr-3" *ngIf="!hidden" icon="eye-outline" pack="eva" (click)="change_input()"> </nb-icon>
      <nb-icon class="float-right mr-3" *ngIf="hidden"  icon="eye-off-outline" pack="eva" (click)="change_input()">  </nb-icon>

      <ngx-validation-message label="Password" [showMinLength]="password?.hasError('minlength') && password.touched"
                              [showMaxLength]="password?.hasError('maxlength') && password.touched"
                              [showRequired]="password?.errors?.required && password.touched"
                              [minLength]="minLength"
                              [maxLength]="maxLength"></ngx-validation-message>
    </div>

    <div class="form-control-group accept-group">
      <nb-checkbox formControlName="rememberMe" name="rememberMe" *ngIf="rememberMe">Remember me</nb-checkbox>
     <!-- <a  routerLink="../request-password">Forgot Password?</a>-->
    </div>


    <button nbButton fullWidth status="primary" size="large"
            (click)="login()" [disabled]="submitted || !loginForm.valid"
            [class.btn-pulse]="submitted">
      Log In
    </button>
  </div>


