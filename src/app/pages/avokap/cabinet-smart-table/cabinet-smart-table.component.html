<!--
  ~ Copyright (c) Akveo 2019. All Rights Reserved.
  ~ Licensed under the Single Application / Multi Application License.
  ~ See LICENSE_SINGLE_APP / LICENSE_MULTI_APP in the 'docs' folder for license information on type of purchased license.
  -->

<nb-card
        [nbSpinner]="loading_cabinets"
        nbSpinnerStatus="primary"
        nbSpinnerSize="large"
        nbSpinnerMessage="Loading Cabinets">
  <nb-card-header>
    <div class="header" >
      <div class="col-3" >
        <nb-select   fullWidth class="col-6"  id="states" [(selected)]="selectedState" (selectedChange)="changeState($event)" >
          <nb-option   [value]="'*'" >Total</nb-option>
          <nb-option   *ngFor="let state of states" [value]="state.code"  > {{state.value}}</nb-option>
        </nb-select>
      </div>
      <div>
          <input type="text" class="form-control" placeholder="Cabinet Name" (keydown.enter)="findByName($event)" (keyup)="resetData($event)" >
      </div>
      <div>
        <button class="float-right" nbButton hero status="primary" (click)="creat_cabinet($event)" > Create Cabinet </button>
      </div>
    </div>
  </nb-card-header>

  <nb-card-body>
      <div class="form-group w-100 mx-auto " >
          Cabinet <span>( {{number_of_cabinet}} )</span>
      </div>
    <ng2-smart-table class="cabinet-smart-table"
                     [settings]="settings"
                     [source]="source"
                     (deleteConfirm)="onDeleteConfir($event)"

                     (edit)="delete_cabinet($event)"
                     (delete)="cabinetDetails($event)"
                     (rowSelect)="newPages($event)"
                     (userRowSelect)="selectedUser()"

    >
    </ng2-smart-table>
  </nb-card-body>
</nb-card>
